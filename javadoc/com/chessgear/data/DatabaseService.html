<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Sat Dec 12 10:02:51 EST 2015 -->
<title>DatabaseService</title>
<meta name="date" content="2015-12-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DatabaseService";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/chessgear/data/DatabaseServiceNodeTest.html" title="class in com.chessgear.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/chessgear/data/DatabaseService.html" target="_top">Frames</a></li>
<li><a href="DatabaseService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.chessgear.data</div>
<h2 title="Class DatabaseService" class="title">Class DatabaseService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.chessgear.data.DatabaseService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DatabaseService</span>
extends java.lang.Object</pre>
<div class="block">Here are some important things to keep in mind when using this class: 
 <ul>
  <li> This is a dumb class it does not handle who is logged in or any encryption properties.
  <li> It just hides SQL implentation details.
  <li> The superkey (unique identifier) of an user is it's username.
  <li> The superkey of a node is the combination of it's owner and an unique integer id.
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#CANONICAL_DB_NAME">CANONICAL_DB_NAME</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#addChild-java.lang.String-int-int-">addChild</a></span>(java.lang.String&nbsp;username,
        int&nbsp;parentId,
        int&nbsp;childId)</code>
<div class="block">This method adds a child node to a node</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#addNode-java.lang.String-int-java.util.Map-">addNode</a></span>(java.lang.String&nbsp;username,
       int&nbsp;nodeId,
       java.util.Map&lt;<a href="../../../com/chessgear/data/GameTreeNode.NodeProperties.html" title="enum in com.chessgear.data">GameTreeNode.NodeProperties</a>,java.lang.String&gt;&nbsp;properties)</code>
<div class="block">This methods adds a node to the database.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#addTree-java.lang.String-int-">addTree</a></span>(java.lang.String&nbsp;username,
       int&nbsp;rootId)</code>
<div class="block">This method creates a GameTree for the player in the database</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#addUser-java.lang.String-java.util.Map-">addUser</a></span>(java.lang.String&nbsp;username,
       java.util.Map&lt;<a href="../../../com/chessgear/server/User.Property.html" title="enum in com.chessgear.server">User.Property</a>,java.lang.String&gt;&nbsp;attributes)</code>
<div class="block">Adds an user to the database.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#childrenFrom-java.lang.String-int-">childrenFrom</a></span>(java.lang.String&nbsp;username,
            int&nbsp;parentId)</code>
<div class="block">This methods list the children of a node</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#deleteNode-java.lang.String-int-">deleteNode</a></span>(java.lang.String&nbsp;username,
          int&nbsp;nodeId)</code>
<div class="block">Deletes a node in the database</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#deleteUser-java.lang.String-">deleteUser</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">Deletes an user in the database</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../com/chessgear/data/GameTreeNode.NodeProperties.html" title="enum in com.chessgear.data">GameTreeNode.NodeProperties</a>,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#fetchNodeProperty-java.lang.String-int-">fetchNodeProperty</a></span>(java.lang.String&nbsp;username,
                 int&nbsp;nodeid)</code>
<div class="block">This method fetch all the properties for the node.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../com/chessgear/server/User.Property.html" title="enum in com.chessgear.server">User.Property</a>,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#fetchUserProperties-java.lang.String-">fetchUserProperties</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">This method fetches all the property of the user specified by it's username</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/chessgear/data/DatabaseService.html" title="class in com.chessgear.data">DatabaseService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#getInstanceOf--">getInstanceOf</a></span>()</code>
<div class="block">Gets the instance of this singleton class.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#getRoot-java.lang.String-">getRoot</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">Get the root id of the user's game tree</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#hasRoot-java.lang.String-">hasRoot</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">Tells whether the user already has a tree or not</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#nodeExists-java.lang.String-int-">nodeExists</a></span>(java.lang.String&nbsp;username,
          int&nbsp;nodeId)</code>
<div class="block">This methods tells wether a node exists or not.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#parentFrom-java.lang.String-int-">parentFrom</a></span>(java.lang.String&nbsp;username,
          int&nbsp;childId)</code>
<div class="block">This method finds the parent of a child node.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#updateNodeProperty-java.lang.String-int-com.chessgear.data.GameTreeNode.NodeProperties-java.lang.String-">updateNodeProperty</a></span>(java.lang.String&nbsp;username,
                  int&nbsp;nodeId,
                  <a href="../../../com/chessgear/data/GameTreeNode.NodeProperties.html" title="enum in com.chessgear.data">GameTreeNode.NodeProperties</a>&nbsp;p,
                  java.lang.String&nbsp;v)</code>
<div class="block">Updates the a field of the property of an user.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#updateUserProperty-java.lang.String-com.chessgear.server.User.Property-java.lang.String-">updateUserProperty</a></span>(java.lang.String&nbsp;username,
                  <a href="../../../com/chessgear/server/User.Property.html" title="enum in com.chessgear.server">User.Property</a>&nbsp;p,
                  java.lang.String&nbsp;v)</code>
<div class="block">Updates the a field of the property of an user.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/chessgear/data/DatabaseService.html#userExists-java.lang.String-">userExists</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">This method looks in the database if the user specified by it's username exists.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CANONICAL_DB_NAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CANONICAL_DB_NAME</h4>
<pre>public static final&nbsp;java.lang.String CANONICAL_DB_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.chessgear.data.DatabaseService.CANONICAL_DB_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstanceOf--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstanceOf</h4>
<pre>public static&nbsp;<a href="../../../com/chessgear/data/DatabaseService.html" title="class in com.chessgear.data">DatabaseService</a>&nbsp;getInstanceOf()</pre>
<div class="block">Gets the instance of this singleton class.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The database.</dd>
</dl>
</li>
</ul>
<a name="addUser-java.lang.String-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUser</h4>
<pre>public&nbsp;void&nbsp;addUser(java.lang.String&nbsp;username,
                    java.util.Map&lt;<a href="../../../com/chessgear/server/User.Property.html" title="enum in com.chessgear.server">User.Property</a>,java.lang.String&gt;&nbsp;attributes)
             throws java.lang.IllegalArgumentException</pre>
<div class="block">Adds an user to the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user. (it is the attribute that represent an user!).</dd>
<dd><code>attributes</code> - The attributes of the user. If some is non-specified, NULL value will be put in the database.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the username is null, already exists or the set of attributes is null.</dd>
</dl>
</li>
</ul>
<a name="deleteUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUser</h4>
<pre>public&nbsp;void&nbsp;deleteUser(java.lang.String&nbsp;username)
                throws java.lang.IllegalArgumentException</pre>
<div class="block">Deletes an user in the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user. (it is the attribute that represent an user!)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the specified user does not exist in the database</dd>
</dl>
</li>
</ul>
<a name="updateUserProperty-java.lang.String-com.chessgear.server.User.Property-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUserProperty</h4>
<pre>public&nbsp;void&nbsp;updateUserProperty(java.lang.String&nbsp;username,
                               <a href="../../../com/chessgear/server/User.Property.html" title="enum in com.chessgear.server">User.Property</a>&nbsp;p,
                               java.lang.String&nbsp;v)
                        throws java.lang.IllegalArgumentException</pre>
<div class="block">Updates the a field of the property of an user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user. (it is the attribute that represent an user!).</dd>
<dd><code>p</code> - The field to modify.</dd>
<dd><code>v</code> - The value to put in place.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the user does not exists in the database or if the value is null.</dd>
</dl>
</li>
</ul>
<a name="userExists-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>userExists</h4>
<pre>public&nbsp;boolean&nbsp;userExists(java.lang.String&nbsp;username)</pre>
<div class="block">This method looks in the database if the user specified by it's username exists.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user. (it is the attribute that represent an user!)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the user exists in the library, else false. Also if null value is provided, return false.</dd>
</dl>
</li>
</ul>
<a name="nodeExists-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeExists</h4>
<pre>public&nbsp;boolean&nbsp;nodeExists(java.lang.String&nbsp;username,
                          int&nbsp;nodeId)</pre>
<div class="block">This methods tells wether a node exists or not.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user.</dd>
<dd><code>nodeId</code> - The interger id of the node.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the node exists, else false.</dd>
</dl>
</li>
</ul>
<a name="deleteNode-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteNode</h4>
<pre>public&nbsp;void&nbsp;deleteNode(java.lang.String&nbsp;username,
                       int&nbsp;nodeId)
                throws java.lang.IllegalArgumentException</pre>
<div class="block">Deletes a node in the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user. (it is the attribute that represent an user!)</dd>
<dd><code>nodeId</code> - the id of the node</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the node does not exist in the database or the node has children</dd>
</dl>
</li>
</ul>
<a name="fetchUserProperties-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchUserProperties</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../com/chessgear/server/User.Property.html" title="enum in com.chessgear.server">User.Property</a>,java.lang.String&gt;&nbsp;fetchUserProperties(java.lang.String&nbsp;username)
                                                                  throws java.lang.IllegalArgumentException</pre>
<div class="block">This method fetches all the property of the user specified by it's username</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user. (it is the attribute that represent an user!)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map of all properties and their associated value for the user. If no value was specified for 
 a property, then the corresponding value will simply be null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the user does not exist see <a href="../../../com/chessgear/data/DatabaseService.html#userExists-java.lang.String-"><code>userExists</code></a></dd>
</dl>
</li>
</ul>
<a name="updateNodeProperty-java.lang.String-int-com.chessgear.data.GameTreeNode.NodeProperties-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateNodeProperty</h4>
<pre>public&nbsp;void&nbsp;updateNodeProperty(java.lang.String&nbsp;username,
                               int&nbsp;nodeId,
                               <a href="../../../com/chessgear/data/GameTreeNode.NodeProperties.html" title="enum in com.chessgear.data">GameTreeNode.NodeProperties</a>&nbsp;p,
                               java.lang.String&nbsp;v)
                        throws java.lang.IllegalArgumentException</pre>
<div class="block">Updates the a field of the property of an user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user. (it is the attribute that represent an user!).</dd>
<dd><code>nodeId</code> - the id of the node</dd>
<dd><code>p</code> - The field to modify.</dd>
<dd><code>v</code> - The value to put in place.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the user does not exists in the database or if the value is null.</dd>
</dl>
</li>
</ul>
<a name="addTree-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTree</h4>
<pre>public&nbsp;void&nbsp;addTree(java.lang.String&nbsp;username,
                    int&nbsp;rootId)</pre>
<div class="block">This method creates a GameTree for the player in the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The unique identifier of the player</dd>
<dd><code>rootId</code> - The unique ID of the root (has only to be unique across nodes of the user)</dd>
</dl>
</li>
</ul>
<a name="addNode-java.lang.String-int-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNode</h4>
<pre>public&nbsp;void&nbsp;addNode(java.lang.String&nbsp;username,
                    int&nbsp;nodeId,
                    java.util.Map&lt;<a href="../../../com/chessgear/data/GameTreeNode.NodeProperties.html" title="enum in com.chessgear.data">GameTreeNode.NodeProperties</a>,java.lang.String&gt;&nbsp;properties)</pre>
<div class="block">This methods adds a node to the database. The primary keys of the node are it's username (the user to whom
 the node belongs to), and nodeId the id of the node (note that the nodeId has only to be unique for a particular
 user.)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user to whom the node belongs.</dd>
<dd><code>nodeId</code> - The id of the node. (has to be unique for the player)</dd>
<dd><code>properties</code> - A Map of properties that the node has (if some attributes are non specified, they will be
 stored as NULL)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the node already exists or if the user does not exists.</dd>
</dl>
</li>
</ul>
<a name="addChild-java.lang.String-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addChild</h4>
<pre>public&nbsp;void&nbsp;addChild(java.lang.String&nbsp;username,
                     int&nbsp;parentId,
                     int&nbsp;childId)</pre>
<div class="block">This method adds a child node to a node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The unique identifier of the player</dd>
<dd><code>parentId</code> - The unique ID of the parent (has only to be unique across nodes of the user)</dd>
<dd><code>childId</code> - The unique ID of the child (has only to be unique across nodes of the user)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the child already has a parent. (In a tree, there is only one parent)</dd>
</dl>
</li>
</ul>
<a name="getRoot-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoot</h4>
<pre>public&nbsp;int&nbsp;getRoot(java.lang.String&nbsp;username)</pre>
<div class="block">Get the root id of the user's game tree</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The unique identifier of the player</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The id of player game tree's roote.</dd>
</dl>
</li>
</ul>
<a name="hasRoot-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasRoot</h4>
<pre>public&nbsp;boolean&nbsp;hasRoot(java.lang.String&nbsp;username)</pre>
<div class="block">Tells whether the user already has a tree or not</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the username that's being checked for hasRoot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if user does have tree in database or false elsewise</dd>
</dl>
</li>
</ul>
<a name="fetchNodeProperty-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNodeProperty</h4>
<pre>public&nbsp;java.util.Map&lt;<a href="../../../com/chessgear/data/GameTreeNode.NodeProperties.html" title="enum in com.chessgear.data">GameTreeNode.NodeProperties</a>,java.lang.String&gt;&nbsp;fetchNodeProperty(java.lang.String&nbsp;username,
                                                                                     int&nbsp;nodeid)</pre>
<div class="block">This method fetch all the properties for the node. If a property was not specified, null is given as value.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of the user.</dd>
<dd><code>nodeid</code> - The integer identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map containing the value for all properties.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the node does not exist.</dd>
</dl>
</li>
</ul>
<a name="childrenFrom-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>childrenFrom</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.Integer&gt;&nbsp;childrenFrom(java.lang.String&nbsp;username,
                                                      int&nbsp;parentId)</pre>
<div class="block">This methods list the children of a node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The unique identifier of the player</dd>
<dd><code>parentId</code> - The unique ID of the parent (has only to be unique across nodes of the user)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of children id</dd>
</dl>
</li>
</ul>
<a name="parentFrom-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>parentFrom</h4>
<pre>public&nbsp;int&nbsp;parentFrom(java.lang.String&nbsp;username,
                      int&nbsp;childId)</pre>
<div class="block">This method finds the parent of a child node.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The unique identifier of the player</dd>
<dd><code>childId</code> - The unique ID of the child (has only to be unique across nodes of the user)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the node from the parent</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/chessgear/data/DatabaseServiceNodeTest.html" title="class in com.chessgear.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/chessgear/data/DatabaseService.html" target="_top">Frames</a></li>
<li><a href="DatabaseService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
